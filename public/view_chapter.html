<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Chapter Viewing</title>
  <link rel="stylesheet" href="view_chapter.css">
  
</head>
<body>
  <!-- Header -->
  <div class="header" id="chapter-title">
    $_Chapter_number
  </div>

  <!-- Main container -->
  <div class="main-container">
    <div class="theme-selector">
      Reading theme:
      <button onclick="setTheme('light')">Light</button>
      <button onclick="setTheme('dark')">Dark</button>
      <button onclick="setTheme('yellow')">Yellow</button>
    </div>
    
    <div class="reading-box" id="reading-box">
    
      <!-- <p>Chapter content goes here...</p> -->
      
	  <script>
      
      
    const urlParams = new URLSearchParams(window.location.search);
	const chapterId = urlParams.get('chapterId');

	async function loadChapter() {
	 try { 
	
	  const response = await fetch(`/api/chapters/${chapterId}`);
	 if (!response.ok) throw new Error('Failed to fetch chapter data');
	   const currentChapter = await response.json();
	   
	  const chapterView = document.getElementById('reading-box');
	   chapterView.textContent = currentChapter.content;
	   document.getElementById('chapter-title').innerHTML = currentChapter.title;
	 
	}
	catch (error) {
		console.error("Problem fetching chapters:", error);
	
	}
	
}

window.onload = loadChapter();
  </script>
</body>
</html>
